@using QLHV.Models.ViewModels.QuanLyhoiVien;
@model ThemMoiHoiVienPost
@{ 
    var temp = ViewBag.temp as ThemMoiHoiVien;
}
@{
    ViewBag.Title = "ThemMoiHoiVien";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div id="app">
    <div class="main-wrapper">
        <!-- Main Content -->
        <div class="main-content">
            <section class="section">
                <div class="section-header" style="margin-bottom:2%">
                    <h1>Thêm mới hội viên</h1>
                    <div class="section-header-breadcrumb">
                        <div class="breadcrumb-item active"><a href="#" style="color:rgba(40, 163, 40, 0.8)">Quản lý hội viên</a></div>
                        <div class="breadcrumb-item active"><a href="../ThemMoiHoiVien" style="color:rgba(40, 163, 40, 0.8)">Thêm mới hội viên</a></div>
                    </div>
                </div>
                <div class="section-body" style="background-color: white">
                    <div class="row">
                        <div class="col-12 col-sm-3">
                            <div class="card" style="margin:8%">
                                @using (Html.BeginForm("QuanLyHoiVien", "UploadAnh", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                {
                                    <input type="file" name="postedFile" onchange="readURL(this);" style="margin-bottom:5%; background-color:rgba(234, 247, 231, 0.1)" />
                                    @*<input type="submit" id="btnUpload" value="Upload" />*@
                                    <img id="blah" src="~/Content/images.png" style="width:108%; height:80%; margin-left:5%">                                    
                                }
                                @*<input name="Anh" onchange="readURL(this);" style="margin-bottom:5%; background-color:rgba(234, 247, 231, 0.1)">
                                <img id="blah" src="~/Content/images.png" style="width:108%; height:80%; margin-left:5%">*@
                                <h4 style="color:black; font-weight:700;font-family: 'Times New Roman', Times, serif; font-size:16px; margin:10% 20%">ẢNH ĐẠI DIỆN</h4>
                            </div>
                        </div>
                        <div class="col-12 col-md-9">
                            <div class="col-12 col-md-12">
                                <div style="width:102%">
                                    <form method="post" class="needs-validation" autocomplete="off">
                                        <div class="card-body" style="width: 100%; margin:1% 1% 2% 0%">
                                            <div class="row">
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Mã hội viên</label>
                                                    <input type="text" name="MaHV" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.MaHV">
                                                    @Html.ValidationMessageFor(x => x.MaHV, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Họ tên</label>
                                                    <input type="text" name="TenHV" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.TenHV">
                                                    @Html.ValidationMessageFor(x => x.TenHV, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Giới tính</label>
                                                    <select name="GioiTinh" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%" autofocus="@Model.GioiTinh">
                                                        <option value="" selected hidden></option>
                                                        <option value="False">Nữ</option>
                                                        <option value="True">Nam</option>
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.GioiTinh, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-sm-4 col-12">
                                                    <label style="font-size:14px; color:black">Dân tộc</label>
                                                    <input type="text" name="DanToc" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.DanToc">
                                                    @Html.ValidationMessageFor(x => x.DanToc, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Ngày sinh</label>
                                                    <input type="date" name="NgaySinh" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.NgaySinh">
                                                    @Html.ValidationMessageFor(x => x.NgaySinh, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Năm nhập ngũ</label>
                                                    <input type="number" name="NamNhapNgu" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.NamNhapNgu">
                                                    @Html.ValidationMessageFor(x => x.NamNhapNgu, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Bậc thợ</label>
                                                    <select name="BacTho" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        @foreach (var i in temp.BacTho)
                                                        {
                                                    <option value="@i">@i</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.BacTho, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Email</label>
                                                    <input type="email" name="Email" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.Email">
                                                </div>
                                                <div class="form-group col-md-4 col-12">
                                                    <label style="font-size:14px; color:black">Số điện thoại</label>
                                                    <input type="tel" name="SDT" class="form-control" style="color: black; border-color: rgba(140, 175, 140, 0.8); background-color: white;" value="@Model.SDT">
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black">Trình độ hiện tại</label>                                                   
                                                    <select name="MaTD" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        @foreach (var i in temp.TD)
                                                        {
                                                            <option value="@i.MaTD">@i.TenTD</option>
                                                        }
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaTD, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black">Danh hiệu hiện tại</label>
                                                    <select name="MaDH" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Không</option>
                                                        @foreach (var i in temp.DH)
                                                        {
                                                    <option value="@i.MaDH">@i.TenDH</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaDH, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Chức danh hiện tại</label>
                                                    <select name="MaCD" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Chức danh khác</option>
                                                        @foreach (var i in temp.CD)
                                                        {
                                                    <option value="@i.MaCD">@i.TenCD</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaCD, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Cấp bậc hiện tại</label>
                                                    <select name="MaCB" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        @foreach (var i in temp.CB)
                                                        {
                                                            <option value="@i.MaCB">@i.TenCB</option>
                                                        }
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaCB, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Vị trí trong Chi bộ</label>
                                                    <select name="MaVTCB" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Không</option>
                                                        @foreach (var i in temp.VTCB)
                                                        {
                                                    <option value="@i.MaVTCB">@i.TenVTCB</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaVTCB, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Vị trí trong Đảng uỷ</label>
                                                    <select name="MaVTDU" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Không</option>
                                                        @foreach (var i in temp.VTDU)
                                                        {
                                                    <option value="@i.MaVTDU">@i.TenVTDU</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaVTDU, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black ; margin-top:4%">Vị trí trong các tổ chức đoàn thể</label>
                                                    <select name="MaVTDT" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Không</option>
                                                        @foreach (var i in temp.VTDT)
                                                        {
                                                    <option value="@i.MaVTDT">@i.TenVTDT</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaVTDT, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black ; margin-top:4%">Loại hội viên</label>
                                                    <select name="MaLHV" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        @foreach (var i in temp.LHV)
                                                        {
                                                            <option value="@i.MaLHV">@i.TenLHV</option>
                                                        }
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaLHV, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Đơn vị</label>
                                                    <select name="MaDV" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        @foreach (var i in temp.DV)
                                                        {
                                                            <option value="@i.MaDV">@i.TenDV</option>
                                                        }
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaDV, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Loại đảng viên</label>
                                                    <select name="MaLDV" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        @foreach (var i in temp.LDV)
                                                        {
                                                            <option value="@i.MaLDV">@i.TenLDV</option>
                                                        }
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaLDV, "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Hội phụ nữ</label>
                                                    <select name="MaHPN" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Không thuộc HPN</option>
                                                        @foreach (var i in temp.HPN)
                                                        {
                                                    <option value="@i.MaHPN">@i.TenHPN</option>}
                                                    </select>
                                                    @Html.ValidationMessageFor(x => x.MaHPN, "", new { @class = "text-danger" })
                                                    @Html.ValidationMessage("MaHCD", "", new { @class = "text-danger" })
                                                </div>
                                                <div class="form-group col-md-6 col-12">
                                                    <label style="font-size:14px; color:black; margin-top:4%">Công đoàn</label>
                                                    <select name="MaHCD" style="border: 1px solid rgba(140, 175, 140, 0.8); border-radius:5px; width:100%; height:42px; background-color: white; outline:none; padding-left:5%">
                                                        <option value="" selected hidden></option>
                                                        <option value="0">Không công đoàn</option>
                                                        @foreach (var i in temp.HCD)
                                                        {
                                                    <option value="@i.MaHCD">@i.TenHCD</option>}
                                                    </select>    
                                                    @Html.ValidationMessageFor(x => x.MaHCD, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <button class="btn btn-success" style="box-shadow: 1px 1px 1px rgb(241, 248, 241); height:42px">Thêm mới hội viên</button>
                                            </div>
                                            @if (ViewBag.Message == 1){}
                                            else if (ViewBag.Message != null)
                                            {
                                                <script type="text/javascript">
                                                    window.onload = function () {
                                                        alert("Thêm mới thành công!\nTên đăng nhập và Mật khẩu mặc định là mã hội viên");
                                                    }
                                                </script>
                                            }
                                            else
                                            {
                                                <script type="text/javascript">
                                                    window.onload = function () {
                                                        alert("Thêm mới thất bại!");
                                                    }
                                                </script>
                                            }
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>




