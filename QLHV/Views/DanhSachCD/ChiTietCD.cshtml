@using QLHV.Models.ViewModels.QuanLyhoiVien;
@model List<DanhSachHV>
@{
    var BCH = ViewBag.BCH as List<QLHV.Models.ViewModels.DanhSachCacHoi.BanChapHanh>;
}
@{
    ViewBag.Title = "ChiTietCD";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="main-wrapper">
    <!-- Main Content -->
    <div class="main-content">
        <section class="section">
            <div class="section-header" style="margin-bottom:2%">
                <h1 style="margin:0; color:black">@ViewBag.TenCD</h1>
                <div class="section-header-breadcrumb">
                    <div class="breadcrumb-item active"><a href="#" style="color:rgb(26, 136, 32)">Danh sách các hội</a></div>
                    <div class="breadcrumb-item active"><a href="Views/DanhSachHPN/DanhSachHPN" style="color:rgb(26, 136, 32)">Hội phụ nữ</a></div>
                </div>
            </div>
            <div class="section-header">
                <div class="container">
                    <div class="row" style="margin-top:0">
                        <div class="col-12">
                            <div class="card-body" style="padding:0 1%;">
                                <div class="row">
                                    <div class="col-12">
                                        <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="basicInfo-tab" data-toggle="tab" href="#basicInfo" role="tab" aria-controls="basicInfo" aria-selected="true" style="color:rgb(26, 136, 32); font-weight:700; font-size:16px">Hội viên</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="connectedServices-tab" data-toggle="tab" href="#connectedServices" role="tab" aria-controls="connectedServices" aria-selected="false" style="color:rgb(26, 136, 32); font-weight:700; font-size:16px">Ban chấp hành</a>
                                            </li>
                                        </ul>
                                        <div class="tab-content ml-1" id="myTabContent">
                                            <div class="tab-pane fade show active" id="basicInfo" role="tabpanel" aria-labelledby="basicInfo-tab">
                                                <table id="trang" class="table table-bordered table-hover" style="width:100%; font-family:arial, verdana, sans-serif; color:black">
                                                    <thead style="text-align: center; font-size:14px; font-weight:500">
                                                        <tr>
                                                            <th>Mã hội viên</th>
                                                            <th>Tên hội viên</th>
                                                            <th>Cấp bậc</th>
                                                            <th>Đơn vị</th>
                                                            <th>Chức danh</th>
                                                            <th>Trình độ</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody style="font-size:14px; font-family:sans-serif; color:rgba(43, 48, 43, 0.75);">
                                                        @foreach (var i in Model)
                                                        {
                                                            <tr>
                                                                <td style="text-align:center"><a href=/QuanLyHoiVien/ChiTietHoiVien/@i.MaHV style="color:rgba(43, 48, 43, 1); font-weight:500">@i.MaHV</a></td>
                                                                <td><a href=/QuanLyHoiVien/ChiTietHoiVien/@i.MaHV style="color:rgba(43, 48, 43, 1); font-weight:500">@i.TenHV</a></td>
                                                                <td><a href=/QuanLyHoiVien/ChiTietHoiVien/@i.MaHV style="color:rgba(43, 48, 43, 1); font-weight:500">@i.TenLHV</a></td>
                                                                <td><a href=/QuanLyHoiVien/ChiTietHoiVien/@i.MaHV style="color:rgba(43, 48, 43, 1); font-weight:500">@i.TenDV</a></td>
                                                                <td><a href=/QuanLyHoiVien/ChiTietHoiVien/@i.MaHV style="color:rgba(43, 48, 43, 1); font-weight:500">@i.TenCD</a></td>
                                                                <td><a href=/QuanLyHoiVien/ChiTietHoiVien/@i.MaHV style="color:rgba(43, 48, 43, 1); font-weight:500">@i.TenTD</a></td>
                                                            </tr>
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="tab-pane fade" id="connectedServices" role="tabpanel" aria-labelledby="ConnectedServices-tab">
                                                @foreach (var i in BCH)
                                                {
                                                    <div style="margin-bottom:2%">
                                                        @if (i.NamKetThuc == null)
                                                        {
                                                            <h5 class="modal-title" style="color:black">Nhiệm kỳ @i.NhiemKy (@i.NamBatDau - Nay)</h5>
                                                        }
                                                        else
                                                        {
                                                            <h5 class="modal-title" style="color:black">Nhiệm kỳ @i.NhiemKy (@i.NamBatDau - @i.NamKetThuc)</h5>
                                                        }
                                                    </div>
                                                    <p class="mb-2" style="color:rgb(52, 186, 79); font-size:18px; font-weight:600"><span style="color:black">CHỦ TỊCH:</span> <a href="/QuanLyHoiVien/ChiTietHoiVien/@i.ChuTich.MaHV" style="color: rgb(50, 137, 68); font-size:18px; font-weight:600">@i.ChuTich.TenHV</a></p>
                                                    <br />
                                                    <p class="mb-2" style="color:black; font-size:16px; font-weight:600">PHÓ CHỦ TỊCH:</p>
                                                    foreach (var j in i.PhoChuTich)
                                                    {
                                                        <a href="/QuanLyHoiVien/ChiTietHoiVien/@j.MaHV" style="color: rgb(52, 186, 79)"><p class="mb-2" style="color:rgb(50, 137, 68); font-size:16px; font-weight:600">@j.TenHV</p></a>
                                                    }
                                                    <br />
                                                    <p class="mb-2" style="color:black; font-size:16px; font-weight:600">UỶ VIÊN: </p>
                                                    foreach (var j in i.UyVien)
                                                    {
                                                        <a href="/QuanLyHoiVien/ChiTietHoiVien/@j.MaHV" style="color: rgb(52, 186, 79)"><p class="mb-2" style="color:rgb(50, 137, 68); font-size:16px;font-weight:600">@j.TenHV</p></a>
                                                    }
                                                    <button class="btn btn-outline-success" style="margin: 0% 10% 0% 85%; width:10%">Sửa</button>
                                                    <hr />
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- DataTable-->
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/jquery.dataTables.min.js" type="text/javascript"></script>
<script>
    $('table[id=trang]').each(function () {
        var table2 = $(this).DataTable({
            lengthChange: false,
            "language": {
                "sProcessing": "Đang xử lý...",
                "sLengthMenu": "Xem _MENU_ mục",
                "sZeroRecords": "Không tìm thấy thông tin phù hợp",
                "sInfo": "Đang xem _START_ đến _END_ trong tổng số _TOTAL_ mục",
                "sInfoEmpty": "Đang xem 0 đến 0 trong tổng số 0 mục",
                "sInfoFiltered": "(được lọc từ _MAX_ mục)",
                "sInfoPostFix": "",
                "sSearch": "Tìm kiếm: ",
                "sUrl": "",
                "oPaginate": {
                    "sFirst": "Đầu",
                    "sPrevious": "Trước",
                    "sNext": "Tiếp",
                    "sLast": "Cuối"
                }
            },
            "pageLength": 15,
            buttons: [
                {
                    extend: 'copy',
                    text: 'Sao chép',
                    className: 'btn btn-success btn-md'
                },
                {
                    extend: 'excel',
                    text: 'Xuất file excel',
                    className: 'btn btn-success btn-md',
                    filename: 'DanhSachHoiVien_' + d.getDate().toString() + '.' + d.getMonth().toString() + '.' + d.getFullYear().toString(),
                    title: 'DANH SÁCH HỘI VIÊN'
                },
                {
                    extend: 'pdf',
                    text: 'Xuất file pdf',
                    className: 'btn btn-success btn-md',
                    filename: 'DanhSachHoiVien_' + d.getDate().toString() + '.' + d.getMonth().toString() + '.' + d.getFullYear().toString(),
                    title: 'DANH SÁCH HỘI VIÊN'
                },
                {
                    extend: 'print',
                    text: 'In',
                    className: 'btn btn-success btn-md',
                    title: 'DANH SÁCH HỘI VIÊN'
                }]
        });
        table2.buttons().container()
            .appendTo('this_wrapper .col-md-6:eq(0)');
    });
</script>





